<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jerome.mybatis.manager.dao.IManagerDao"><!-- 命名空间  用于区分隔离 sql语句 指定的是要操作的 接口 -->
 
  <resultMap type="com.jerome.mybatis.manager.entity.Manager" id="managerList">
  				<id property="id" column="id"/><!-- 主键id -->
  				<result property="name" column="name"/>
  				<result property="age" column="age"/>
  </resultMap>
  <select id="queryByConditions" resultMap="managerList" parameterType="Map" >
  		select * from manager2  where  age=#{age}
  			<if test="name!=null">
  						and name like #{name}
  			</if>
  			
  </select>
  <select id="queryByAge" resultMap="managerList" parameterType="Map">
  			select * from manager2 
  					<if test="agelist!=null">
  								<where>
  									age in
  											<foreach collection="agelist" item="alist" open="(" separator="," close=")">
  														#{alist}
  											</foreach>
  								</where>
  					</if>
  		
  </select>
  <update id="update" parameterType="com.jerome.mybatis.manager.entity.Manager">
  		update manager2 
  			<set >
  				<if test="name!=null">
  								name=#{name},
  				</if>
  					<if test="age!=null">
  								age=#{age}
  					</if>		
  			</set>
  					where id=#{id}
  </update>
</mapper>
